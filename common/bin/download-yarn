#!/usr/bin/env bash

# This scipt downloads a given yarn package name + version from npm to a local
# file.

set -o pipefail
set -e

package_name=$1
if [ -z "$package_name" ]; then
  echo "Yarn package name not provided"
  exit 1
fi

package_version=$2
if [ -z "$package_version" ]; then
  echo "Yarn package version not provided"
  exit 1
fi

url=$(curl -sSf "https://registry.npmjs.com/${package_name}/${package_version}" | jq -r '.dist.tarball')

curl -sSf -o "./yarn-v${package_version}.tar.gz" "${url}"
